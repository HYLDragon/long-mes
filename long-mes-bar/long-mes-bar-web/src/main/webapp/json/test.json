[{
    "id": "402880eb56875b7f0156876338100000",
    "version": 3,
    "createDateTime": 1471150241000,
    "updateDateTime": 1480921979000,
    "deleted": 0,
    "name": "CURD DEMO",
    "code": "DEMO",
    "url": "",
    "parentId": "",
    "levelCode": "000002",
    "icon": "fa fa-table",
    "functype": "0",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880eb56875b7f01568763ac630001",
    "version": 5,
    "createDateTime": 1471150271000,
    "updateDateTime": 1480926141000,
    "deleted": 0,
    "name": "用户列表-Dailog",
    "code": "USER-DIALOG",
    "url": "/user/list",
    "parentId": "402880eb56875b7f0156876338100000",
    "levelCode": "000002000001",
    "icon": "fa fa-user",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "40288182579e398f0157a25ca29a0002",
    "version": 0,
    "createDateTime": 1475897762000,
    "updateDateTime": 1475897762000,
    "deleted": 0,
    "name": "用户列表-Tab",
    "code": "USER-DEMO-TAB",
    "url": "/user/tab/list",
    "parentId": "402880eb56875b7f0156876338100000",
    "levelCode": "000002000002",
    "icon": "fa fa-male",
    "functype": "1",
    "remark": "CURD-DEMO tab方式",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a801b58ce0f500158ce14d2c20000",
    "version": 0,
    "createDateTime": 1480926220000,
    "updateDateTime": 1480926220000,
    "deleted": 0,
    "name": "用户列表-Page",
    "code": "USER-PAGE",
    "url": "/user/page/list",
    "parentId": "402880eb56875b7f0156876338100000",
    "levelCode": "000002000003",
    "icon": "fa fa-user",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "ff80808159ea142c0159ea670fae0000",
    "version": 2,
    "createDateTime": 1485696339000,
    "updateDateTime": 1486362864000,
    "deleted": 0,
    "name": "组件使用说明",
    "code": "Component",
    "url": "",
    "parentId": "",
    "levelCode": "000004",
    "icon": "fa fa-server",
    "functype": "0",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "ff80808159ea142c0159ea68d1e30001",
    "version": 3,
    "createDateTime": 1485696455000,
    "updateDateTime": 1487997092000,
    "deleted": 0,
    "name": "窗体-modals",
    "code": "MODALS",
    "url": "/markdown/preview/modal",
    "parentId": "ff80808159ea142c0159ea670fae0000",
    "levelCode": "000004000001",
    "icon": "fa fa-windows",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880e95a72d8a4015a738980e30000",
    "version": 0,
    "createDateTime": 1487997075000,
    "updateDateTime": 1487997075000,
    "deleted": 0,
    "name": "表单-form",
    "code": "FORM",
    "url": "/markdown/preview/form",
    "parentId": "ff80808159ea142c0159ea670fae0000",
    "levelCode": "000004000002",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": "表单组件base-form",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880ea5aae3edf015ab1b0ec9d0017",
    "version": 0,
    "createDateTime": 1489039846000,
    "updateDateTime": 1489039846000,
    "deleted": 0,
    "name": "附件上传-file",
    "code": "FILEINPUT",
    "url": "/markdown/preview/file",
    "parentId": "ff80808159ea142c0159ea670fae0000",
    "levelCode": "000004000003",
    "icon": "fa fa-file-o",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880eb58d9a6d40158d9a7b21f0000",
    "version": 0,
    "createDateTime": 1481120395000,
    "updateDateTime": 1481120395000,
    "deleted": 0,
    "name": "系统工具",
    "code": "TOOL",
    "url": "",
    "parentId": "",
    "levelCode": "000028",
    "icon": "fa fa-wrench",
    "functype": "0",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880e958eb83230158eb85a30f0000",
    "version": 0,
    "createDateTime": 1481420153000,
    "updateDateTime": 1481420153000,
    "deleted": 0,
    "name": "我的文章",
    "code": "ARTICLE",
    "url": "/markdown/list",
    "parentId": "402880eb58d9a6d40158d9a7b21f0000",
    "levelCode": "000028000001",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880eb58d9a6d40158d9a995130001",
    "version": 3,
    "createDateTime": 1481120519000,
    "updateDateTime": 1481507986000,
    "deleted": 0,
    "name": "Markdown编辑器",
    "code": "MARKDOWN",
    "url": "/markdown/edit",
    "parentId": "402880eb58d9a6d40158d9a7b21f0000",
    "levelCode": "000028000002",
    "icon": "fa fa-pencil",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a81425a1b36e9015a1b42074b0000",
    "version": 1,
    "createDateTime": 1486515996000,
    "updateDateTime": 1486964404000,
    "deleted": 0,
    "name": "代码生成器",
    "code": "CODEGENERATOR",
    "url": "/generator/setting",
    "parentId": "402880eb58d9a6d40158d9a7b21f0000",
    "levelCode": "000028000003",
    "icon": "fa fa-list",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a81d65a3598d9015a360092e60000",
    "version": 3,
    "createDateTime": 1486964691000,
    "updateDateTime": 1496037230000,
    "deleted": 0,
    "name": "代码生成器测试",
    "code": "GENERATOR",
    "url": "/generator/list",
    "parentId": "402880eb58d9a6d40158d9a7b21f0000",
    "levelCode": "000028000004",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": "本功能菜单为代码生成器生成，时间：2017-02-13 13:44:51",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880e95a72d8a4015a738bb1990001",
    "version": 1,
    "createDateTime": 1487997219000,
    "updateDateTime": 1487997237000,
    "deleted": 0,
    "name": "任务管理器",
    "code": "JOB",
    "url": "/job/list",
    "parentId": "402880eb58d9a6d40158d9a7b21f0000",
    "levelCode": "000028000005",
    "icon": "fa fa-calendar-check-o",
    "functype": "1",
    "remark": "基于Quartz的定时任务管理器",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a83295a83a81a015a843e397b0000",
    "version": 0,
    "createDateTime": 1488277354000,
    "updateDateTime": 1488277354000,
    "deleted": 0,
    "name": "消息管理器",
    "code": "MESSAGE",
    "url": "/message/list",
    "parentId": "402880eb58d9a6d40158d9a7b21f0000",
    "levelCode": "000028000006",
    "icon": "fa fa-list",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "4028818a56d407950156d41352630000",
    "version": 0,
    "createDateTime": 1472436851000,
    "updateDateTime": 1472436851000,
    "deleted": 0,
    "name": "系统管理",
    "code": "SYSTEM",
    "url": "",
    "parentId": "",
    "levelCode": "000030",
    "icon": "fa fa-tv",
    "functype": "0",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "4028818a56d407950156d41435830001",
    "version": 1,
    "createDateTime": 1472436909000,
    "updateDateTime": 1499169032000,
    "deleted": 0,
    "name": "用户管理",
    "code": "USER",
    "url": "/user/page/list",
    "parentId": "4028818a56d407950156d41352630000",
    "levelCode": "000030000001",
    "icon": "fa fa-user",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a80f05cbef2d8015cbef6d7e50000",
    "version": 1,
    "createDateTime": 1497852467000,
    "updateDateTime": 1497852496000,
    "deleted": 0,
    "name": "组织机构管理",
    "code": "ORG",
    "url": "/org/tree",
    "parentId": "4028818a56d407950156d41352630000",
    "levelCode": "000030000002",
    "icon": "fa fa-sitemap",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "4028818a56d407950156d41d32ab0003",
    "version": 2,
    "createDateTime": 1472437498000,
    "updateDateTime": 1483433509000,
    "deleted": 0,
    "name": "功能管理",
    "code": "FUNCTION",
    "url": "/function/tree",
    "parentId": "4028818a56d407950156d41352630000",
    "levelCode": "000030000003",
    "icon": "fa fa-cog",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "4028818a56d407950156d4ecfafa0004",
    "version": 1,
    "createDateTime": 1472451115000,
    "updateDateTime": 1472535847000,
    "deleted": 0,
    "name": "角色管理",
    "code": "Role",
    "url": "/role/list",
    "parentId": "4028818a56d407950156d41352630000",
    "levelCode": "000030000004",
    "icon": "fa fa-street-view",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a807a59634b2801596364e33d0001",
    "version": 0,
    "createDateTime": 1483431273000,
    "updateDateTime": 1483431273000,
    "deleted": 0,
    "name": "角色授权",
    "code": "ROLEFUNC",
    "url": "/rolefunc/list",
    "parentId": "4028818a56d407950156d41352630000",
    "levelCode": "000030000005",
    "icon": "fa fa-key",
    "functype": "1",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "4028818a56d407950156d4160e390002",
    "version": 1,
    "createDateTime": 1472437030000,
    "updateDateTime": 1497852298000,
    "deleted": 0,
    "name": "字典管理",
    "code": "DICTIONARY",
    "url": "/dict/tree",
    "parentId": "4028818a56d407950156d41352630000",
    "levelCode": "000030000006",
    "icon": "fa fa-book",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880ea5bc328eb015bc32d2eda0000",
    "version": 2,
    "createDateTime": 1493628169000,
    "updateDateTime": 1496496403000,
    "deleted": 0,
    "name": "工作流管理",
    "code": "WORKFLOW",
    "url": "",
    "parentId": "",
    "levelCode": "000031",
    "icon": "fa fa-edit",
    "functype": "0",
    "remark": "",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a80005c770874015c770b5b1e0000",
    "version": 2,
    "createDateTime": 1496645851000,
    "updateDateTime": 1496648590000,
    "deleted": 1,
    "name": "业务定义",
    "code": "MODULE",
    "url": "/activiti/module/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000001",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": "本功能菜单为代码生成器生成，时间：2017-06-05 14:57:31",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880e95d0282f7015d02b118f70002",
    "version": 4,
    "createDateTime": 1498988746000,
    "updateDateTime": 1498989370000,
    "deleted": 0,
    "name": "委托管理",
    "code": "DELEGATE_LIST",
    "url": "/activiti/delegate/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000002",
    "icon": "fa fa-group",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880ea5bc328eb015bc331eaae0001",
    "version": 11,
    "createDateTime": 1493628480000,
    "updateDateTime": 1498988839000,
    "deleted": 0,
    "name": "工作流模型",
    "code": "RE_MODEL",
    "url": "/activiti/model/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000003",
    "icon": "fa fa-file-image-o",
    "functype": "1",
    "remark": "本功能菜单为代码生成器生成，时间：2017-05-01 16:48:00",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a82575c432663015c439131440000",
    "version": 9,
    "createDateTime": 1495782207000,
    "updateDateTime": 1499130700000,
    "deleted": 0,
    "name": "工作流定义",
    "code": "RE_PROCESSDEF",
    "url": "/activiti/processdef/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000004",
    "icon": "fa fa-list-alt",
    "functype": "1",
    "remark": "本功能菜单为代码生成器生成，时间：2017-05-26 15:03:27",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880eb5c4f5069015c524354d90011",
    "version": 5,
    "createDateTime": 1496028763000,
    "updateDateTime": 1499130692000,
    "deleted": 0,
    "name": "工作流实例",
    "code": "RU_EXECUTION",
    "url": "/activiti/processinstance/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000005",
    "icon": "fa fa-list",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a80f05cc9c3ba015cc9ca04f00000",
    "version": 4,
    "createDateTime": 1498034078000,
    "updateDateTime": 1499005000000,
    "deleted": 0,
    "name": "我的待办",
    "code": "RU_TASK",
    "url": "/activiti/task/todo/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000006",
    "icon": "fa fa-list-ol",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402881925ce8edcd015ce8f4cca90000",
    "version": 2,
    "createDateTime": 1498556976000,
    "updateDateTime": 1499004993000,
    "deleted": 0,
    "name": "我的已办",
    "code": "HI_PROCINST",
    "url": "/activiti/task/done/list",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000007",
    "icon": "fa fa-list-ul",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880e85cfd6ecd015cfd9279e70000",
    "version": 3,
    "createDateTime": 1498902854000,
    "updateDateTime": 1498988902000,
    "deleted": 0,
    "name": "我的委托",
    "code": "DELEGATE",
    "url": "/activiti/delegate/mine",
    "parentId": "402880ea5bc328eb015bc32d2eda0000",
    "levelCode": "000031000008",
    "icon": "fa fa-user",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a83d45d0b23c8015d0c0f62f80000",
    "version": 0,
    "createDateTime": 1499145921000,
    "updateDateTime": 1499145921000,
    "deleted": 0,
    "name": "工作流Demo",
    "code": "WORKFLOW-DEMO",
    "url": null,
    "parentId": null,
    "levelCode": "000032",
    "icon": "fa fa-tasks",
    "functype": "0",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8a8a83d45d0b23c8015d0c0feaa90001",
    "version": 2,
    "createDateTime": 1499145956000,
    "updateDateTime": 1499147139000,
    "deleted": 0,
    "name": "请假示例",
    "code": "DEMO-VACATION",
    "url": "/activiti/demo/vacation",
    "parentId": "8a8a83d45d0b23c8015d0c0f62f80000",
    "levelCode": "000032000001",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "402880e75d12ac9e015d12af07d80000",
    "version": 0,
    "createDateTime": 1499257047000,
    "updateDateTime": 1499257047000,
    "deleted": 1,
    "name": "培训管理",
    "code": "TRAIN",
    "url": "/train/list",
    "parentId": "8a8a83d45d0b23c8015d0c0f62f80000",
    "levelCode": "000032000002",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": "本功能菜单为代码生成器生成，时间：2017-07-05 20:17:26",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "8afa94f65d20d38b015d264b8043000f",
    "version": 0,
    "createDateTime": 1499586068000,
    "updateDateTime": 1499586068000,
    "deleted": 0,
    "name": "实验室三审",
    "code": "LAB",
    "url": "/lab/edit/0",
    "parentId": "8a8a83d45d0b23c8015d0c0f62f80000",
    "levelCode": "000032000003",
    "icon": "fa fa-edit",
    "functype": "1",
    "remark": "实验室三审,动态指定审核人、签发人",
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "bc4d163c5d63b973015f4d5a94f20c65",
    "version": 0,
    "createDateTime": 1508831302000,
    "updateDateTime": 1508831302000,
    "deleted": 0,
    "name": "AAAA",
    "code": "AAA",
    "url": "AAAA",
    "parentId": null,
    "levelCode": "000033",
    "icon": null,
    "functype": "2",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "bc4d163c5d63b973015f4d5adadf0c66",
    "version": 0,
    "createDateTime": 1508831320000,
    "updateDateTime": 1508831320000,
    "deleted": 0,
    "name": "A-1",
    "code": "222",
    "url": "22",
    "parentId": "bc4d163c5d63b973015f4d5a94f20c65",
    "levelCode": "000033000001",
    "icon": null,
    "functype": "0",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "bc4d163c5d63b973015f4d5b282c0c67",
    "version": 0,
    "createDateTime": 1508831340000,
    "updateDateTime": 1508831340000,
    "deleted": 0,
    "name": "A-1-1",
    "code": "A-1-1",
    "url": "SS",
    "parentId": "bc4d163c5d63b973015f4d5adadf0c66",
    "levelCode": "000033000001000001",
    "icon": null,
    "functype": "0",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  },
  {
    "id": "bc4d163c5d63b973015f4d5b59a30c68",
    "version": 1,
    "createDateTime": 1508831353000,
    "updateDateTime": 1508831389000,
    "deleted": 0,
    "name": "A-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1",
    "code": "A-1-1-1",
    "url": "A-1-1-1",
    "parentId": "bc4d163c5d63b973015f4d5b282c0c67",
    "levelCode": "000033000001000001000001",
    "icon": null,
    "functype": "0",
    "remark": null,
    "parentName": null,
    "fflist": null,
    "roleId": null
  }
]


var zNodes=[
{id:0,pId:-1,name:"Aaaa"},
{id:1,pId:0,name:"A"},
{id:11,pId:1,name:"A1"},
{id:12,pId:1,name:"A2"},
{id:13,pId:1,name:"A3"},
{id:2,pId:0,name:"B"},
{id:21,pId:2,name:"B1"},
{id:22,pId:2,name:"B2"},
{id:23,pId:2,name:"B3"},
{id:3,pId:0,name:"C"},
{id:31,pId:3,name:"C1"},
{id:32,pId:3,name:"C2"},
{id:33,pId:3,name:"C3"},
{id:34,pId:31,name:"x"},
{id:35,pId:31,name:"y"},
{id:36,pId:31,name:"z"},
{id:37,pId:36,name:"z1123"} ,
{id:38,pId:37,name:"z123123123"}
];
function treeMenu(a){
this.tree=a||[];
this.groups={};
};
treeMenu.prototype={
init:function(pid){
this.group();
return this.getDom(this.groups[pid]);
},
group:function(){
for(var i=0;i<this.tree.length;i++){
if(this.groups[this.tree[i].pId]){
this.groups[this.tree[i].pId].push(this.tree[i]);
}else{
this.groups[this.tree[i].pId]=[];
this.groups[this.tree[i].pId].push(this.tree[i]);
}
}
},
getDom:function(a){
if(!a){return ''}
var html='\n<ul >\n';
for(var i=0;i<a.length;i++){
html+='<li><a href="#">'+a[i].name+'</a>';
html+=this.getDom(this.groups[a[i].id]);
html+='</li>\n';
};
html+='</ul>\n';
return html;
}
};
var html=new treeMenu(zNodes).init(0);
console.log(html);
